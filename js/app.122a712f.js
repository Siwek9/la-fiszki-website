(function(){"use strict";var e={4677:function(e,t,a){var n=a(9242),r=a(3396),o=a(7139);const i={class:"center-text"},d={class:"center-center row flex-wrap"};function s(e,t,a,n,s,c){const u=(0,r.up)("AutoSaveButton"),l=(0,r.up)("TextInput"),h=(0,r.up)("NewCardboard"),f=(0,r.up)("AddButton"),b=(0,r.up)("ExportButton");return(0,r.wg)(),(0,r.iD)(r.HY,null,[(0,r._)("h1",i,(0,o.zw)(s.name),1),(0,r._)("h3",null,"by: "+(0,o.zw)(s.author),1),(0,r.Wm)(u,{onAutoSave:c.toggleAutoSave,ref:"AutoSave",isAutoSaveOn:s.autoSave},null,8,["onAutoSave","isAutoSaveOn"]),(0,r.Wm)(l,{name:"Cardboard Name",value:s.name,onValueChanged:c.setName},null,8,["value","onValueChanged"]),(0,r.Wm)(l,{name:"Cardboard Author",value:s.author,onValueChanged:c.setAuthor},null,8,["value","onValueChanged"]),(0,r._)("div",d,[(0,r.Wm)(l,{name:"Front Side",value:s.sideName.front,onValueChanged:c.setFrontSide},null,8,["value","onValueChanged"]),(0,r.Wm)(l,{name:"Back Side",value:s.sideName.back,onValueChanged:c.setBackSide},null,8,["value","onValueChanged"])]),((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(s.cardboards,(e=>((0,r.wg)(),(0,r.j4)(h,{ref_for:!0,ref:"cardboardArrayObject",onDeleteCardboard:c.deleteCardboard,onDeleteFrontField:c.deleteFrontField,onDeleteBackField:c.deleteBackField,onNextCardboard:c.moveToNextCardboard,onInputFrontChanged:c.inputFrontChanged,onInputBackChanged:c.inputBackChanged,"side-name":s.sideName,key:e.id,"cardboard-data":e},null,8,["onDeleteCardboard","onDeleteFrontField","onDeleteBackField","onNextCardboard","onInputFrontChanged","onInputBackChanged","side-name","cardboard-data"])))),128)),(0,r.Wm)(f,{onNewCardboard:c.createNewCardboard},null,8,["onNewCardboard"]),(0,r.Wm)(b,{name:s.name,author:s.author,"side-name":s.sideName,cardboards:s.cardboards,ref:"Export"},null,8,["name","author","side-name","cardboards"])],64)}a(7658);const c={class:"text-input-body"},u={class:"text-input-name"},l=["value"];function h(e,t,a,n,i,d){return(0,r.wg)(),(0,r.iD)("div",c,[(0,r._)("span",u,(0,o.zw)(a.name)+":",1),(0,r._)("input",{onFocus:t[0]||(t[0]=(...e)=>d.focusText&&d.focusText(...e)),onInput:t[1]||(t[1]=(...e)=>d.inputValue&&d.inputValue(...e)),value:a.value,class:"text-input-field",type:"text"},null,40,l)])}var f={data(){return{}},methods:{inputValue:function(e){this.$emit("valueChanged",e.target.value)},focusText:function(e){e.target.select()}},props:["name","value"]},b=a(89);const p=(0,b.Z)(f,[["render",h]]);var v=p;const m={class:"center-center cardboard-and-delete"},k={class:"cardboard"},g={class:"row center-middle"},C={class:"cardboard-input"},F={class:"input-name"},N=["value"],w=["onClick"],S=(0,r._)("span",{class:"fields-divider center-center"},"->",-1),x={class:"cardboard-input"},D={class:"input-name"},_=["value"],B=["onClick"];function y(e,t,a,i,d,s){return(0,r.wg)(),(0,r.iD)("div",m,[(0,r._)("div",k,[(0,r._)("div",g,[(0,r._)("div",C,[(0,r._)("span",F,(0,o.zw)(a.sideName.front)+":",1),((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(a.cardboardData.front,((e,a)=>((0,r.wg)(),(0,r.iD)("div",{class:"input-field-background",key:a},[(0,r._)("input",{type:"text",class:"input-field",placeholder:"Text Here",ref_for:!0,ref:s.refsForFront,value:e,onInput:t[0]||(t[0]=(...e)=>s.inputFrontChanged&&s.inputFrontChanged(...e)),onFocus:t[1]||(t[1]=(...e)=>s.inputFocus&&s.inputFocus(...e)),onKeyup:[t[2]||(t[2]=(0,n.D2)(((...e)=>s.frontSideMoveTab&&s.frontSideMoveTab(...e)),["enter"])),t[3]||(t[3]=(0,n.D2)((0,n.iM)(((...e)=>s.frontSideMoveTab&&s.frontSideMoveTab(...e)),["prevent"]),["tab"]))]},null,40,N),(0,r._)("div",{class:"delete-input-field",onClick:e=>s.deleteFrontField(a)},null,8,w)])))),128))]),S,(0,r._)("div",x,[(0,r._)("span",D,(0,o.zw)(a.sideName.back)+":",1),((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(a.cardboardData.back,((e,a)=>((0,r.wg)(),(0,r.iD)("div",{class:"input-field-background",key:a},[(0,r._)("input",{type:"text",class:"input-field",placeholder:"Text Here",ref_for:!0,ref:s.refsForBack,value:e,onInput:t[4]||(t[4]=(...e)=>s.inputBackChanged&&s.inputBackChanged(...e)),onFocus:t[5]||(t[5]=(...e)=>s.inputFocus&&s.inputFocus(...e)),onKeyup:t[6]||(t[6]=(0,n.D2)((0,n.iM)(((...e)=>s.backSideMoveTab&&s.backSideMoveTab(...e)),["prevent"]),["enter"])),onKeydown:t[7]||(t[7]=(0,n.D2)((0,n.iM)(((...e)=>s.backSideMoveTab&&s.backSideMoveTab(...e)),["prevent"]),["tab"]))},null,40,_),(0,r._)("div",{class:"delete-input-field",onClick:e=>s.deleteBackField(a)},null,8,B)])))),128))])])]),(0,r._)("span",{class:"delete-button",onClick:t[8]||(t[8]=(...e)=>s.deleteCardboard&&s.deleteCardboard(...e))})])}var A={data(){return{frontRefs:[],backRefs:[],frontElementNumber:1,backElementNumber:1}},methods:{deleteFrontField:function(e){this.$emit("deleteFrontField",this.cardboardData.id,e)},deleteBackField:function(e){this.$emit("deleteBackField",this.cardboardData.id,e)},refsForFront:function(e){this.frontRefs.push(e)},refsForBack:function(e){this.backRefs.push(e)},inputFocus:function(e){e.target.select()},frontSideMoveTab:function(e){""!=e.target.value&&this.backRefs[0].focus()},backSideMoveTab:function(e){""!=e.target.value&&this.$emit("nextCardboard",this.cardboardData.id)},deleteCardboard:function(){this.$emit("deleteCardboard",this.cardboardData.id)},inputFrontChanged:function(e){this.$emit("inputFrontChanged",e.target.value,this.cardboardData.id)},inputBackChanged:function(e){e.preventDefault(),this.$emit("inputBackChanged",e.target.value,this.cardboardData.id)}},props:["cardboardData","sideName"],mounted(){this.frontRefs[0].focus()},beforeUpdate(){this.frontRefs=[],this.backRefs=[]},updated(){this.frontRefs.length>this.frontElementNumber?(this.frontRefs[this.frontRefs.length-1].focus(),this.frontElementNumber++):this.backRefs.length>this.backElementNumber&&(this.backRefs[this.backRefs.length-1].focus(),this.backElementNumber++)}};const O=(0,b.Z)(A,[["render",y]]);var T=O;function $(e,t,a,n,o,i){return(0,r.wg)(),(0,r.iD)("div",{class:"add-button",onClick:t[0]||(t[0]=(...e)=>i.addButton&&i.addButton(...e)),tabindex:"1"}," + ")}var E={data(){return{}},methods:{addButton:function(){this.$emit("newCardboard")}}};const R=(0,b.Z)(E,[["render",$]]);var j=R;function M(e,t,a,n,o,i){return(0,r.wg)(),(0,r.iD)("button",{class:"text-button",onClick:t[0]||(t[0]=(...e)=>i.exportCardboards&&i.exportCardboards(...e))}," Export Cardboard ")}a(6229),a(7330),a(2062);var V={methods:{exportCardboards:function(){if(""===this.name)return;if(""===this.author)return;if(""===this.sideName.front)return;if(""===this.sideName.back)return;let e=!1;if(this.cardboards.forEach((t=>{""!==t.front&&""!==t.back||(e=!0)})),e)return;let t=this.createFlashcardObject(this.name,this.author,this.sideName,this.cardboards);var a=document.createElement("a");const n=new Blob([JSON.stringify(t)],{type:"text/plain"});a.href=URL.createObjectURL(n),a.download=t.name+=".json",document.body.appendChild(a),a.click(),a.remove()},createFlashcardObject:function(e,t,a,n){return{name:e,author:t,sideName:{...a},cardboards:n.map((e=>({front:[...e.front],back:[...e.back]})))}}},props:["name","author","sideName","cardboards"]};const I=(0,b.Z)(V,[["render",M]]);var z=I;const U={class:"row center-center"},W=(0,r._)("label",{class:"auto-save-label"},"Auto save",-1),H={class:"switch"},K=["checked"],Z=(0,r._)("span",{class:"slider round"},null,-1);function J(e,t,a,n,o,i){return(0,r.wg)(),(0,r.iD)("div",U,[W,(0,r._)("label",H,[(0,r._)("input",{type:"checkbox",onChange:t[0]||(t[0]=(...e)=>i.toggle&&i.toggle(...e)),checked:a.isAutoSaveOn},null,40,K),Z])])}var Y={methods:{toggle:function(e){e.target.checked?this.onChecked():this.onUnchecked()},onChecked:function(){this.$emit("autoSave",!0)},onUnchecked:function(){this.$emit("autoSave",!1)},setCookie:function(e,t,a){const n=new Date;n.setTime(n.getTime()+24*a*60*60*1e3);let r="expires="+n.toUTCString();document.cookie=e+"="+t+";"+r+";path=/"},deleteCookie:function(e){this.setCookie(e,"",-1)},getCookie:function(e){for(var t=e+"=",a=document.cookie.split(";"),n=0;n<a.length;n++){var r=a[n];while(" "==r.charAt(0))r=r.substring(1,r.length);if(0==r.indexOf(t))return r.substring(t.length,r.length)}return null}},props:["isAutoSaveOn"]};const L=(0,b.Z)(Y,[["render",J]]);var P=L,q={name:"App",data(){return{autoSave:!1,name:"New Cardboard",author:"Unknown",sideName:{front:"Default",back:"Default"},cardboards:[{id:0,front:[""],back:[""]}]}},methods:{deleteFrontField:function(e,t){this.cardboards[e].front.length<=1||this.cardboards[e].front.splice(t,1)},deleteBackField:function(e,t){this.cardboards[e].back.length<=1||this.cardboards[e].back.splice(t,1)},toggleAutoSave:function(e){this.autoSave=e,this.autoSave?this.$refs["AutoSave"].setCookie("last_save",JSON.stringify(this.$refs["Export"].createFlashcardObject(this.name,this.author,this.sideName,this.cardboards)),7):this.$refs["AutoSave"].deleteCookie("last_save")},createNewCardboard:function(){this.cardboards[this.cardboards.length]={id:this.cardboards.length,front:[""],back:[""]},this.autoSave&&this.$refs["AutoSave"].setCookie("last_save",JSON.stringify(this.$refs["Export"].createFlashcardObject(this.name,this.author,this.sideName,this.cardboards)),7)},moveToNextCardboard:function(e){e<this.cardboards.length-1?this.$refs["cardboardArrayObject"][e+1].$refs["front"].focus():this.createNewCardboard()},deleteCardboard:function(e){if(!(this.cardboards.length<=1)){this.cardboards.splice(e,1);var t=0;this.cardboards.forEach((e=>{e.id=t,t++}))}},setAuthor:function(e){this.author=e},setName:function(e){this.name=e},setFrontSide:function(e){this.sideName.front=e},setBackSide:function(e){this.sideName.back=e},inputFrontChanged:function(e,t){if("/"==e.slice(-1)&&e.length>1)this.cardboards[t].front.push("");else if("/"!=e.slice(-1)){let a=this.cardboards[t].front.length-1;this.cardboards[t].front[a]=e}},inputBackChanged:function(e,t){if("/"==e.slice(-1)&&e.length>1)this.cardboards[t].back.push("");else if("/"!=e.slice(-1)){let a=this.cardboards[t].back.length-1;this.cardboards[t].back[a]=e}}},mounted(){var e;null!=(e=this.$refs["AutoSave"].getCookie("last_save"))&&(this.autoSave=!0,e=JSON.parse(e),void 0!=e.name&&(this.name=e.name),void 0!=e.author&&(this.author=e.author),void 0!=e.sideName&&(void 0!=e.sideName.front&&(this.sideName.front=e.sideName.front),void 0!=e.sideName.back&&(this.sideName.back=e.sideName.back)),void 0!=e.cardboards&&Array.isArray(e.cardboards)&&e.cardboards.forEach(((e,t)=>{this.cardboards[t]={id:t,front:void 0!=e.front?e.front:"",back:void 0!=e.back?e.back:""}})))},components:{NewCardboard:T,AddButton:j,ExportButton:z,TextInput:v,AutoSaveButton:P}};const G=(0,b.Z)(q,[["render",s]]);var Q=G;(0,n.ri)(Q).mount("#app")}},t={};function a(n){var r=t[n];if(void 0!==r)return r.exports;var o=t[n]={exports:{}};return e[n].call(o.exports,o,o.exports,a),o.exports}a.m=e,function(){var e=[];a.O=function(t,n,r,o){if(!n){var i=1/0;for(u=0;u<e.length;u++){n=e[u][0],r=e[u][1],o=e[u][2];for(var d=!0,s=0;s<n.length;s++)(!1&o||i>=o)&&Object.keys(a.O).every((function(e){return a.O[e](n[s])}))?n.splice(s--,1):(d=!1,o<i&&(i=o));if(d){e.splice(u--,1);var c=r();void 0!==c&&(t=c)}}return t}o=o||0;for(var u=e.length;u>0&&e[u-1][2]>o;u--)e[u]=e[u-1];e[u]=[n,r,o]}}(),function(){a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,{a:t}),t}}(),function(){a.d=function(e,t){for(var n in t)a.o(t,n)&&!a.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={143:0};a.O.j=function(t){return 0===e[t]};var t=function(t,n){var r,o,i=n[0],d=n[1],s=n[2],c=0;if(i.some((function(t){return 0!==e[t]}))){for(r in d)a.o(d,r)&&(a.m[r]=d[r]);if(s)var u=s(a)}for(t&&t(n);c<i.length;c++)o=i[c],a.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return a.O(u)},n=self["webpackChunkla_fiszki_website"]=self["webpackChunkla_fiszki_website"]||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))}();var n=a.O(void 0,[998],(function(){return a(4677)}));n=a.O(n)})();
//# sourceMappingURL=app.122a712f.js.map